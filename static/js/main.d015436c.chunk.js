(this["webpackJsonpswag-shop-web"]=this["webpackJsonpswag-shop-web"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(7),o=n.n(s),c=(n(14),n(1)),r=n(3),l=n(2),m=n(5),d=n(4),u=n(8),h=n.n(u),p=(n(15),n(16),{}),f=null,g=function e(){return Object(c.a)(this,e),this.postNotification=function(e,t){for(var n=p[e],i=0;i<n.length;i++){n[i].callBack(t)}},this.addObserver=function(e,t,n){console.log("I was running first!"),p[e]||(p[e]=[]);var i={observer:t,callBack:n};p[e].push(i)},this.removeObserver=function(e,t){var n=p[t];if(n)for(var i=0;i<n.length;i++)if(e===n[i].observer){n.slice(i,1),p[t]=n;break}},f||(f=this),f},b=new g,v=null,L=[],O=function e(){return Object(c.a)(this,e),this.itemOnWishList=function(e){for(var t=0;t<L.length;t++)if(L[t]._id==e._id)return!0;return!1},this.addWishListItem=function(e){L.push(e),b.postNotification("notif_wishlist_changed",L)},this.removeWishListItem=function(e){for(var t=0;t<L.length;t++)if(L[t]._id===e._id){console.log("Call in here"),L.splice(t,1),b.postNotification("notif_wishlist_changed",L);break}},v||(v=this),v},_=new O,j=new g,w=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).onWishListChanged=function(e){i.setState({onWishList:_.itemOnWishList(i.props.product)})},i.onButtonClicked=function(){i.state.onWishList?_.removeWishListItem(i.props.product):_.addWishListItem(i.props.product)},i.state={onWishList:_.itemOnWishList()},i.onButtonClicked=i.onButtonClicked.bind(Object(l.a)(i)),i.onWishListChanged=i.onWishListChanged.bind(Object(l.a)(i)),i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){j.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){j.removeObserver(this,"notif_wishlist_changed")}},{key:"render",value:function(){var e,t=this;return e=this.state.onWishList?"btn btn-danger":"btn btn-primary",a.a.createElement("div",{className:"card flex-fill product"},a.a.createElement("img",{className:"card-img-top",src:this.props.product.imgUrl,alt:"Product"}),a.a.createElement("div",{className:"card-block "},a.a.createElement("h4",{className:"card-title"},this.props.product.title),a.a.createElement("p",{className:"card-text"},"Price: $",this.props.product.price),a.a.createElement("a",{href:"#",onClick:function(){return t.onButtonClicked()},className:e},this.state.onWishList?"Remove From WishList":"Add to Car")))}}]),n}(i.Component),W=(n(17),n(18),new O),E=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).removeProduct=function(){console.log("Call remove"),W.removeWishListItem(i.props.product)},i.removeProduct=i.removeProduct.bind(Object(l.a)(i)),i}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("li",{className:"list-group-item pc-condensed"},a.a.createElement("div",{className:"row"},a.a.createElement("a",{className:"btn btn-outline-danger",onClick:function(){return e.removeProduct()}},"X"),a.a.createElement("p",{className:""},this.props.product.title," | ",a.a.createElement("b",null,"$",this.props.product.price))))}}]),n}(i.Component),k=new g,N=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).onWishListChanged=function(e){i.setState({wishList:e})},i.createWishList=function(){return i.state.wishList.map((function(e){return a.a.createElement(E,{product:e,key:e._id})}))},i.state={wishList:[]},i.createWishList=i.createWishList.bind(Object(l.a)(i)),i.onWishListChanged=i.onWishListChanged.bind(Object(l.a)(i)),i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){k.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){k.removeObserver(this,"notif_wishlist_changed")}},{key:"render",value:function(){return a.a.createElement("div",{className:"card wishlist"},a.a.createElement("div",{className:"card-block"},a.a.createElement("h4",{className:"card-title"},"Wish List"),a.a.createElement("ul",{className:"list-group"},this.createWishList())))}}]),n}(i.Component),C=(n(19),[{_id:"5f0253fd647d78b1b64e22a9",price:40.99,title:"Blink XT2 Outdoor",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/51cNf8VwK3L._SL1000_.jpg"},{_id:"5f0253fd647d78b1b64e22aa",price:39.99,title:"Ring Video Doorbell",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/51pGjo0OhJL._SL1000_.jpg"},{_id:"5f0253fd647d78b1b64e22ab",price:50,title:"Blink Mini",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/61YnlcFA-jL._SL1000_.jpg"},{_id:"5f0253fd647d78b1b64e22ad",price:199.29,title:"Amazon eero Beacon",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/41oLyfuAtZL._SL1000_.jpg"},{_id:"5f0253fd647d78b1b64e22ae",price:34.99,title:"Amazon Smart Plug",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/51yy4dHf5VL._AC_SL1000_.jpg"},{_id:"5f028f84647d78b1b64e22af",price:130.5,title:"Ring Stick Up Cam",imgUrl:"https://images-na.ssl-images-amazon.com/images/I/51M%2BW1l2ShL._SL1000_.jpg"}]),y=new function e(){Object(c.a)(this,e),this.getProducts=function(){return new Promise((function(e,t){fetch("http://localhost:3004/product").then((function(t){e(C)}))}))}},I=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).loadData=function(){var e=Object(l.a)(i);y.getProducts().then((function(t){e.setState({products:t})}),(function(e){}))},i.productList=function(){return i.state.products.map((function(e){return a.a.createElement("div",{className:"col-sm-6 col-md-4 d-flex",key:e._id},a.a.createElement(w,{product:e}))}))},i.state={products:[]},i.loadData=i.loadData.bind(Object(l.a)(i)),i.productList=i.productList.bind(Object(l.a)(i)),i.loadData(),i}return Object(r.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App-header"},a.a.createElement("img",{src:h.a,className:"App-logo",alt:"logo"}),a.a.createElement("h3",null,"Welcome to my shopping mall")),a.a.createElement("div",{className:" container-fluid App-main"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-sm-8"},a.a.createElement("div",{className:"row"},this.productList())),a.a.createElement("div",{className:"col-sm-4"},a.a.createElement(N,null)))))}}]),n}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.d015436c.chunk.js.map